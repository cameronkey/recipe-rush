# RecipeRush Backend Configuration

# Server Configuration
PORT=3000
BASE_URL=https://reciperush.uk

# Stripe Configuration
STRIPE_SECRET_KEY=your_stripe_secret_key_here
# ⚠️  SECURITY WARNING ⚠️
# Only STRIPE_PUBLISHABLE_KEY may be exposed to clients (e.g., via /api/config endpoints).
# NEVER expose STRIPE_SECRET_KEY or any other sensitive environment variables.
# 
# IMPORTANT: Any /api/config or similar endpoint must return ONLY a curated whitelist
# of allowed keys (e.g., STRIPE_PUBLISHABLE_KEY only) rather than dumping all
# environment variables. Never serialize process.env directly.
#
# After setup, run the provided verification script to search the codebase for routes
# that might leak secrets and confirm STRIPE_SECRET_KEY is never serialized:
#   node security-check.js
STRIPE_PUBLISHABLE_KEY=your_stripe_publishable_key_here
STRIPE_WEBHOOK_SECRET=your_webhook_secret_here

# Email Configuration (Gmail)
EMAIL_USER=your_email@gmail.com
EMAIL_PASS=your_app_password_here

# EmailJS Configuration
# This is a PUBLIC key safe to expose in frontend code - typically used in browser integrations
# Servers do not need to store this value (can leave empty) as it's designed for client-side usage
EMAILJS_PUBLIC_KEY=your_emailjs_public_key_here

# Security
JWT_SECRET=your_jwt_secret_here
SESSION_SECRET=your_session_secret_here

# Monitoring and Analytics (Optional)
SENTRY_DSN=your_sentry_dsn_here

# Production Settings
NODE_ENV=production
LOG_LEVEL=error
ENABLE_DEBUG=false
MAX_FILE_SIZE=10485760
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=100

# Test Endpoints (DEVELOPMENT/STAGING ONLY - NEVER in production)
# Set to 'true' to enable test endpoints for development/staging environments
# 
# ⚠️  PRODUCTION SECURITY WARNING ⚠️
# These endpoints are intended ONLY for development and staging environments.
# They should NEVER be enabled in production as they can expose sensitive
# system information and create security vulnerabilities.
#
# If you must enable test endpoints, implement BOTH checks in your server code:
#   if (ENABLE_TEST_ENDPOINTS === 'true' && NODE_ENV !== 'production') {
#     // Test endpoint logic here
#   }
#
# Recommended: Add authentication middleware and rate limiting if test endpoints
# are ever enabled, even in non-production environments.
ENABLE_TEST_ENDPOINTS=false
